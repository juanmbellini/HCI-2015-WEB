<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<title>User Page</title>

		<!-- Bootstrap stuff -->
		<script src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
		

		<!-- My stylesheets -->
		<link rel="stylesheet" type="text/css" href="../css/common.css">
		<link rel="stylesheet" type="text/css" href="../css/header.css">
		<link rel="stylesheet" type="text/css" href="../css/catalogue.css">
		<link rel="stylesheet" type="text/css" href="../css/productThumbnail.css">
		

		<!-- Angular stuff -->
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>

		<!-- My code -->
		<script src="../../controller/catalogueCtrl.js"></script>
		<script src="../../controller/cartCtrl.js"></script>
		<script src="../../controller/accountCtrl.js"></script>
		<script src="../../controller/thumbnailCtrl.js"></script>
		
		<script src="../js/catalogue.js"></script>


	</head>


	<body>

		<div ng-app=""> 
			<div ng-include="'header.html'"></div> <!-- Import's header -->
		</div>

		<div ng-controller="catalogueController" ng-init="breadcrumb_type=breadcrumb_type()">

			<!-- Loads proper breadcrumb -->
			<div ng-switch="breadcrumb_type">
				<div ng-switch-when="1"> <!-- Display by category -->
					<ol class="breadcrumb">
			  			<li><a href="home.html">Home</a></li>
			  			<li ng-if="hasGenderSpecified()"><a ng-href="{{gender_link()}}">{{ gender() }}</a></li>
			  			<li class="active">{{category.name}}</li>
			  		</ol>
				</div>
				<div ng-switch-when="2"> <!-- Display by subcategory -->
					<ol class="breadcrumb">
					  	<li><a href="home.html">Home</a></li>
			  			<li ng-if="hasGenderSpecified()"><a ng-href="{{gender_link()}}">{{ gender() }}</a></li>
			  			<li><a ng-href="{{ categories_link(gender(), category.name )}}">{{ category.name }}</a></li>
			 			<li class="active"> {{ sub_category.name }} </li>
					</ol>
				</div>
				<div ng-switch-when="3"> <!-- Display by brand -->
					<ol class="breadcrumb">
					  	<li><a href="home.html">Home</a></li>
			  			<li ng-if="hasGenderSpecified()"><a ng-href="{{gender_link()}}">{{ gender() }}</a></li>
			 			<li class="active"> {{ brand }} </li>
					</ol>
				</div>
				<div ng-switch-when="4"> <!-- Display by news -->
					<ol class="breadcrumb">
					  	<li><a href="home.html">Home</a></li>
			  			<li ng-if="hasGenderSpecified()"><a ng-href="{{gender_link()}}">{{ gender().name }}</a></li>
			 			<li class="active"> Novedades </li>
					</ol>
				</div>
				<div ng-switch-when="5"> <!-- Display by search results -->
					<ol class="breadcrumb">
					  	<li><a href="home.html">Home</a></li>
			  			<li><a ng-href="categories.html?id={{gender().id}}">{{ gender().name }}</a></li>
			 			<li class="active"> {{ search_string }}  </li>
					</ol>
				</div>
				<div ng-switch-default>
					<ol class="breadcrumb">
			  			<li><a href="home.html">Home</a></li>
			 			<li class="active"> Cat√°logo </li>
					</ol>
				</div>
			</div>


			<!-- Body part -->
			<div class="container-fluid">

				<!-- filters -->
				<div class="col-md-2">
					<div ng-repeat="each in filters">
						<div ng-init="panelIdWithHash='#' + each.id;panelId='' + each.id">
							<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
		  						<div class="panel panel-default">
		    						<div class="panel-heading" role="tab" id="headingOne">
		      							<h4 class="panel-title">
		        							<a role="button" data-toggle="collapse" data-parent="#accordion" href={{panelIdWithHash}} aria-expanded="true" aria-controls="collapseOne">
		          								{{ each.name }} <!-- filter names -->
		        							</a>
		     							</h4>
		    						</div>
			    					<div id={{panelId}} class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
			        					<div class="panel-body" ng-repeat="values in each.values">
			        						
			        						{{values}} <!-- filter values -->
			        					
			      						</div>
			   						</div>
		 						</div>
							</div>
						</div>
					</div>
				</div>

				<!-- products -->
				<div class="col-md-8">
					<div>
						<div ng-repeat="prod in products">
							<div class="col-md-4">
								<div ng-include="'productThumbnail.html'"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-2">
					<div ng-include="'recommendations.html'"></div> <!-- Import's recommendations -->
				</div>
			</div>


		</div>

		<br>
		<br>
		<br>
		<div ng-app=""> 
    		<div ng-include="'footer.html'"></div> <!-- Import's footer -->
  		</div>

	</body>
</html>
